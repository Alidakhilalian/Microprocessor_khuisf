#include <mega32.h>
#include <delay.h>

flash unsigned char pat[10][4] = {
                                {0b00000000, 0b00000000, 0b00000000, 0b10000000},
                                {0b00000000, 0b10000000, 0b10000000, 0b01000000},
                                {0b10000000, 0b01000000, 0b01000000, 0b00100000},
                                {0b01000000, 0b00100000, 0b00100000, 0b00010000},
                                {0b00100000, 0b00010000, 0b00010000, 0b00001000},
                                {0b00010000, 0b00001000, 0b00001000, 0b00000100},
                                {0b00001000, 0b00000100, 0b00000100, 0b00000010},
                                {0b00000100, 0b00000010, 0b00000010, 0b00000001},
                                {0b00000010, 0b00000001, 0b00000001, 0b00000000},
                                {0b00000001, 0b00000000, 0b00000000, 0b00000000},
                            }; 

int i = 0;
int j = 0;
int sleep = 1;

void main(void)
{



DDRA = 0xff;
DDRB = 0xff;


while(1){ 
        
       for(i = 0; i < 10; i++){
       
        if(i == 4){
            sleep = 5;
        } else {
            sleep = 1;
        }
        
        for(j = 0; j < 25 * sleep ; j++){
            PORTA=pat[i][0];
            PORTB=0b11100111;
            delay_ms(10);
       
            PORTA=pat[i][1];
            PORTB=0b11101111;
            delay_ms(10);
       
            PORTA=pat[i][2];
            PORTB=0b11011111;
            delay_ms(10);
       
            PORTA=pat[i][3];
            PORTB=0b11100111;
            delay_ms(10);
        }   
       }    
    }
}